# CloudDrive2 Media Streaming Application - Windows Configuration Template
# Copy this file to .env and customize for your environment

# ============================================================
# Application Settings
# ============================================================
APP_NAME=CloudDrive2 Media Streaming
APP_VERSION=1.0.0
DEBUG=False
HOST=0.0.0.0
PORT=8000

# ============================================================
# CloudDrive2 Settings (Windows Paths)
# ============================================================
# IMPORTANT: Use forward slashes (/) or escaped backslashes (\\) in paths
# Examples for Windows:
#   C:/CloudDrive2 or C:\\CloudDrive2
#   D:/GoogleDrive or D:\\GoogleDrive

CLOUDDRIVE_MOUNT_PATH=C:/CloudDrive2

# Allowed file extensions (comma-separated, no spaces)
ALLOWED_EXTENSIONS=mp4,mkv,avi,mov,wmv,flv,webm,mp3,wav,flac,aac,ogg,m4a,pdf,doc,docx,txt,epub

# ============================================================
# Security Settings
# ============================================================
# IMPORTANT: Change this to a long random string in production!
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=change-this-secret-key-in-production-use-long-random-string

ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ============================================================
# Authentication (Optional)
# ============================================================
# Uncomment and set to enable authentication
# Recommended for production deployments!

# AUTH_USERNAME=admin
# AUTH_PASSWORD=YourSecurePasswordHere

# ============================================================
# Cache Settings
# ============================================================
CACHE_ENABLED=True
CACHE_TTL=300
CACHE_MAX_SIZE=1000

# ============================================================
# Streaming Settings
# ============================================================
# Chunk size in bytes (1MB = 1048576)
CHUNK_SIZE=1048576

# Maximum chunk size (10MB = 10485760)
MAX_CHUNK_SIZE=10485760

# Buffer size (64KB = 65536)
BUFFER_SIZE=65536

# Enable HTTP Range requests (required for media player seeking)
ENABLE_RANGE_REQUESTS=True

# ============================================================
# Performance Settings
# ============================================================
# Number of worker processes (set to number of CPU cores)
MAX_WORKERS=4

# Keep-alive timeout in seconds
KEEP_ALIVE_TIMEOUT=75

# ============================================================
# CORS Settings
# ============================================================
# Allow all origins by default (change for production)
CORS_ORIGINS=*

# Or specify specific origins (comma-separated):
# CORS_ORIGINS=http://localhost:3000,https://yourdomain.com

CORS_ALLOW_CREDENTIALS=True
CORS_ALLOW_METHODS=*
CORS_ALLOW_HEADERS=*

# ============================================================
# Logging Settings
# ============================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log file path (use forward slashes)
LOG_FILE=logs/app.log

# ============================================================
# Redis Settings (Optional - for distributed caching)
# ============================================================
# Uncomment to use Redis for caching (recommended for production)
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_DB=0

# ============================================================
# Windows Firewall Settings
# ============================================================
# Note: The application will listen on the PORT specified above.
# You may need to configure Windows Firewall to allow incoming
# connections on this port.
#
# To add firewall rule manually (run as Administrator):
# netsh advfirewall firewall add rule name="CloudDrive2 Streaming" dir=in action=allow protocol=TCP localport=8000

# ============================================================
# Discuz Integration Settings
# ============================================================
# If integrating with Discuz forum:
# 1. Note the PORT configured above
# 2. Ensure Discuz can access this server (network/firewall)
# 3. Use the streaming URL format: http://your-server:PORT/api/stream/{file_path}
# 4. See WINDOWS_README.md for detailed integration guide
